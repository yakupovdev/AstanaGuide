<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>AG Events</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="styles/header_style.css">
    <link rel="stylesheet" href="styles/footer_style.css">
    <link rel="stylesheet" href="styles/events_style.css">

    <link rel="icon" type="image/png" href="images/icon.png">
</head>

<body>

<header class="header shadow-sm">
    <div class="container d-flex flex-wrap justify-content-between align-items-center py-3">
        <a href="index.html" class="logo d-flex align-items-center text-decoration-none">
            <img class="logo-img me-2" src="images/icon.png" alt="Logo">
            <span class="logo-text fw-bold">Astana Guide</span>
        </a>
        <nav class="nav d-flex align-items-center">
            <ul class="nav list-unstyled d-flex mb-0 me-3">
                <li><a href="index.html" class="nav-link px-3">Home</a></li>
                <li><a href="sights.html" class="nav-link px-3">Sights</a></li>
                <li><a href="events.html" class="nav-link active px-3">Events</a></li>
                <li><a href="about.html" class="nav-link px-3">About Us</a></li>
            </ul>
            <button id="theme-toggle" class="theme-toggle-btn">
                <i class="fas fa-moon"></i>
            </button>
        </nav>
    </div>
</header>


<section class="scroll-section container mt-4">
    <h2 class="text-center">Popular Events in Astana</h2>
    <div class="row justify-content-center">
        <div class="col-lg-10 col-md-12">
            <div class="sight-view">
                <div id="besbayev" class="sight-content active" data-event-id="besbayev" data-date="2025-11-06T19:30:00"
                     data-title="Meirambek Besbayev &amp; Abdizhappar Alkozha" data-date-text="6 ноября 2025 · 19:30">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/meyrambek.jpg"
                         alt="Meirambek Besbayev & Abdizhappar Alkozha" class="img-fluid">
                    <h3>Meirambek Besbayev & Abdizhappar Alkozha</h3>
                    <span>📅 November 6, 2025 — 19:30</span>
                    <p>Two iconic Kazakh singers will perform together in a special concert celebrating national music,
                        culture, and unity. Expect emotional ballads and modern hits.
                    </p>
                </div>

                <div id="kvashonkin" class="sight-content" data-event-id="kvashonkin" data-date="2025-10-29T19:30:00"
                     data-title="Aleksey Kvashonkin Stand-up" data-date-text="29 октября 2025 · 19:30">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/aleksey.jpg"
                         alt="Aleksey Kvashonkin" class="img-fluid">
                    <h3>Aleksey Kvashonkin Stand-up</h3>
                    <span>📅 October 29, 2025 — 19:30</span>
                    <p>A rising Russian stand-up comedian known for sharp humor and witty takes on everyday life. A
                        night full of laughter and clever observations.</p>
                </div>
                <div id="kaz-liechtenstein" class="sight-content" data-event-id="kaz-liechtenstein"
                     data-date="2025-10-10T19:00:00" data-title="Kazakhstan vs Liechtenstein"
                     data-date-text="10 октября 2025">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/kazakhstan_liechtenstein.jpg"
                         alt="Kazakhstan vs Liechtenstein" class="img-fluid">
                    <h3>Kazakhstan vs Liechtenstein</h3>
                    <span>📅 October 10, 2025 — 19:00</span>
                    <p>The Kazakhstan national football team hosts Liechtenstein in a decisive qualifier. Feel the
                        stadium energy and support the squad in this pivotal game.</p>
                </div>

                <div id="kaz-belgium" class="sight-content" data-event-id="kaz-belgium" data-date="2025-10-13T19:00:00"
                     data-title="Kazakhstan vs Belgium" data-date-text="13 октября 2025">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/kazakhstan_belgiya.jpg"
                         alt="Kazakhstan vs Belgium" class="img-fluid">
                    <h3>Kazakhstan vs Belgium</h3>
                    <span>📅 October 13, 2025 — 19:00</span>
                    <p>An electrifying clash with European giants Belgium featuring world-class football and roaring
                        stands at Astana Arena.</p>
                </div>

                <div id="rasmus" class="sight-content" data-event-id="rasmus" data-date="2025-10-31T19:00:00"
                     data-title="The Rasmus — Live" data-date-text="31 октября 2025">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/rasmus.jpg" alt="The Rasmus" class="img-fluid">
                    <h3>The Rasmus — Live</h3>
                    <span>📅 October 31, 2025</span>
                    <p>The iconic Finnish rock band delivers their greatest hits alongside new material in a powerful
                        live performance.</p>
                </div>

                <div id="vanzo" class="sight-content" data-event-id="vanzo" data-date="2025-11-22T19:00:00"
                     data-title="Andrea Vanzo — Piano Concert" data-date-text="22 ноября 2025">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/andrea_vanzo.jpeg"
                         alt="Andrea Vanzo" class="img-fluid">
                    <h3>Andrea Vanzo — Piano Concert</h3>
                    <span>📅 November 22, 2025</span>
                    <p>Italian pianist Andrea Vanzo presents a refined recital of romantic favorites and contemporary
                        pieces.</p>
                </div>

                <div id="autumn-melodies" class="sight-content" data-event-id="autumn-melodies"
                     data-date="2025-10-01T12:00:00" data-title="&quot;Kuzgi Auen&quot; — Astana Opera"
                     data-date-text="Осень 2025">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/kuzgi_auen.jpg"
                         alt="Autumn Melodies" class="img-fluid">
                    <h3>"Kuzgi Auen" — Astana Opera</h3>
                    <span>📅 Autumn 2025</span>
                    <p>A seasonal opera and ballet program celebrating the colors of autumn with immersive staging and
                        orchestral highlights.</p>
                </div>

                <div id="schaherezada" class="sight-content" data-event-id="schaherezada"
                     data-date="2025-10-20T19:00:00" data-title="&quot;Schaherezada&quot; — Astana Opera"
                     data-date-text="20 октября 2025 · 19:00">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/scheherazade.png"
                         alt="Schaherezada Ballet" class="img-fluid">
                    <h3>"Schaherezada" — Astana Opera</h3>
                    <span>📅 October 20, 2025 — 19:00</span>
                    <p>An opulent ballet inspired by "One Thousand and One Nights," filled with vibrant choreography and
                        Rimsky-Korsakov's music.</p>
                </div>

                <div id="touch-light" class="sight-content" data-event-id="touch-light" data-date="2025-11-01T19:00:00"
                     data-title="&quot;Touch the Light&quot; — Astana Ballet" data-date-text="1 ноября 2025">
                    <div class="event-actions">
                        <button type="button" class="planner-btn" data-value="wish">Want to visit</button>
                        <button type="button" class="planner-btn" data-value="done">Visited</button>
                    </div>
                    <img src="images/events_images/touch_the_light.png"
                         alt="Touch the Light" class="img-fluid">
                    <h3>"Touch the Light" — Astana Ballet</h3>
                    <span>📅 November 1, 2025</span>
                    <p>Astana Ballet explores light and emotion through contemporary choreography and multimedia
                        staging.</p>
                </div>

            </div>

        </div>

        <div class="col-12">
            <div class="scroll-container">
                <div class="scroll-item active" data-target="besbayev">
                    <img src="images/events_images/meyrambek.jpg"
                         alt="Meirambek Besbayev & Abdizhappar Alkozha">
                    <p>Besbayev & Alkozha</p>
                </div>
                <div class="scroll-item" data-target="kvashonkin">
                    <img src="images/events_images/aleksey.jpg"
                         alt="Aleksey Kvashonkin">
                    <p>Aleksey Kvashonkin</p>
                </div>
                <div class="scroll-item" data-target="kaz-liechtenstein">
                    <img src="images/events_images/kazakhstan_liechtenstein.jpg"
                         alt="Kazakhstan vs Liechtenstein">
                    <p>Kaz vs Liechtenstein</p>
                </div>
                <div class="scroll-item" data-target="kaz-belgium">
                    <img src="images/events_images/kazakhstan_belgiya.jpg"
                         alt="Kazakhstan vs Belgium">
                    <p>Kazakhstan vs Belgium</p>
                </div>
                <div class="scroll-item" data-target="rasmus">
                    <img src="images/events_images/rasmus.jpg" alt="The Rasmus">
                    <p>The Rasmus</p>
                </div>
                <div class="scroll-item" data-target="vanzo">
                    <img src="images/events_images/andrea_vanzo.jpeg"
                         alt="Andrea Vanzo">
                    <p>Andrea Vanzo</p>
                </div>
                <div class="scroll-item" data-target="autumn-melodies">
                    <img src="images/events_images/kuzgi_auen.jpg"
                         alt="Autumn Melodies">
                    <p>Autumn Melodies</p>
                </div>
                <div class="scroll-item" data-target="schaherezada">
                    <img src="images/events_images/scheherazade.png"
                         alt="Schaherezada Ballet">
                    <p>Schaherezada Ballet</p>
                </div>
                <div class="scroll-item" data-target="touch-light">
                    <img src="images/events_images/touch_the_light.png"
                         alt="Touch the Light">
                    <p>Touch the Light</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="planner-summary-section container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
            <div class="planner-summary">
                <h2 class="text-center">Planned to visit</h2>
                <p class="planner-summary-empty text-center">Select &quot;Want to visit&quot; on an event and it will
                    appear here.</p>
                <div class="planner-summary-list"></div>
            </div>
        </div>
    </div>
</section>

<footer class="footer mt-auto">
    <div class="container text-center">
        <p>© 2025 Astana Guide. All Rights Reserved.
            © by Marlen Zhumagulov
        </p>
        <div class="footer-contacts">
            <a href="contact.html">Contact Us</a>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const body = document.body;
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');

        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            body.classList.add('dark-theme');
            themeIcon.classList.remove('fa-moon');
            themeIcon.classList.add('fa-sun');
        }

        themeToggle.addEventListener('click', function () {
            body.classList.toggle('dark-theme');

            if (body.classList.contains('dark-theme')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
                localStorage.setItem('theme', 'light');
            }
        });
    });

    const scrollItems = document.querySelectorAll('.scroll-item');
    const sightContents = document.querySelectorAll('.sight-content');

    function showSight(targetId, preventScroll = false) {
        sightContents.forEach(content => {
            content.classList.remove('active');
        });

        scrollItems.forEach(item => {
            item.classList.remove('active');
        });

        const targetContent = document.getElementById(targetId);
        if (targetContent) {
            targetContent.classList.add('active');
        }

        const activeItem = document.querySelector(`[data-target="${targetId}"]`);
        if (activeItem) {
            activeItem.classList.add('active');
            if (!preventScroll) {
                activeItem.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'center'});
            }
        }
    }

    scrollItems.forEach(item => {
        item.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('data-target');
            const scrollPos = window.scrollY;
            showSight(targetId);
            history.pushState(null, '', '#' + targetId);
            window.scrollTo(0, scrollPos);
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        const hash = window.location.hash.substring(1);
        if (hash && document.getElementById(hash)) {
            showSight(hash, true);
        } else {
            showSight('besbayev', true);
        }
    });

    window.addEventListener('hashchange', function () {
        const hash = window.location.hash.substring(1);
        if (hash && document.getElementById(hash)) {
            showSight(hash, true);
        }
    });

    const plannerKey = 'astana-guide-planner-v2';
    const storedPlanner = JSON.parse(localStorage.getItem(plannerKey) || '{}');
    const plannerItems = Array.from(document.querySelectorAll('.sight-content[data-event-id]'));
    const plannerSummaryList = document.querySelector('.planner-summary-list');
    const plannerSummaryEmpty = document.querySelector('.planner-summary-empty');
    const now = new Date();
    let storageTouched = false;

    function persistPlanner() {
        if (!Object.keys(storedPlanner).length) {
            localStorage.removeItem(plannerKey);
            return;
        }
        localStorage.setItem(plannerKey, JSON.stringify(storedPlanner));
    }

    function applyState(item, buttons, value) {
        buttons.forEach(btn => {
            const isActive = btn.dataset.value === value;
            btn.classList.toggle('active', isActive);
        });
    }

    function renderPlannerSummary() {
        if (!plannerSummaryList || !plannerSummaryEmpty) {
            return;
        }
        plannerSummaryList.innerHTML = '';
        const wishItems = plannerItems.filter(content => storedPlanner[content.dataset.eventId] === 'wish');
        if (!wishItems.length) {
            plannerSummaryEmpty.style.display = 'block';
            plannerSummaryList.style.display = 'none';
            return;
        }
        plannerSummaryEmpty.style.display = 'none';
        plannerSummaryList.style.display = 'grid';
        wishItems.forEach(content => {
            const summaryItem = document.createElement('div');
            summaryItem.className = 'planner-summary-item';
            const title = content.dataset.title || content.querySelector('h3').textContent.trim();
            const dateText = content.dataset.dateText || content.querySelector('span').textContent.trim();
            summaryItem.innerHTML = `<h4>${title}</h4><span>${dateText}</span>`;
            plannerSummaryList.appendChild(summaryItem);
        });
    }

    plannerItems.forEach(item => {
        const eventId = item.dataset.eventId;
        const rawDate = item.dataset.date;
        const buttons = Array.from(item.querySelectorAll('.planner-btn'));
        const wishBtn = buttons.find(btn => btn.dataset.value === 'wish');
        let savedValue = storedPlanner[eventId];
        if (rawDate && wishBtn) {
            const eventDate = new Date(rawDate);
            if (!Number.isNaN(eventDate) && eventDate < now) {
                wishBtn.disabled = true;
                wishBtn.classList.add('planner-btn-disabled');
                if (savedValue === 'wish') {
                    savedValue = 'done';
                    storedPlanner[eventId] = 'done';
                    storageTouched = true;
                }
            }
        }
        if (savedValue) {
            applyState(item, buttons, savedValue);
        }

        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                if (btn.disabled) {
                    return;
                }
                const value = btn.dataset.value;
                const current = storedPlanner[eventId];
                if (current === value) {
                    delete storedPlanner[eventId];
                    applyState(item, buttons, undefined);
                    persistPlanner();
                    renderPlannerSummary();
                    return;
                }
                storedPlanner[eventId] = value;
                applyState(item, buttons, value);
                persistPlanner();
                renderPlannerSummary();
            });
        });
    });

    if (storageTouched) {
        persistPlanner();
    }

    renderPlannerSummary();
</script>
</body>

</html>